# Slot game

App is built based on certain requirements using React library.

## Installation

- Make sure, you have node.js and npm installed. (https://nodejs.org/en/download/)
- clone this repository: `git clone https://github.com/shurick31/slotgame.git`
- change the directory `cd slotgame`
- run `npm install`
- run `npm start`
- visit `http://localhost:8000`

Also live version is available at: http://slot-react.s3-website.eu-west-2.amazonaws.com/


## Principals

### General principles

Given 5 icons, needs to use at a spinning reel. One of ways to implement this is using a picture contains all necessary icons and move this picture in certain area incrementally by one icon height.

At start of application (`Dashboard.componentdDidMount` method) generated three random image sets from exists icons. Every application reloading (page refresh, for example) will be generated new order for every reel.

Once reels image sets were generated, they will be rendered.

The reel object is defined at the `components/Spinner.js` class; From parent component passed parameters: 
- reel: the reel number (1,2,3)
- balance: current balance (to avoid auto-start)
- debug: debug rules object ({position, icon})
- image: generated image (e.g. 'image_1')
- timer: time to spin in milliseconds
- ref: react component reference
- onFinish: callback method to handle the value after stop

To start the game, needs to enter some credit's amount. If the balance equals to zero, then 'Play' button disappears. Every press on 'Play' button withdraw 1 credit from balance.

under the play button is slider to show/hide the debug area.
To enable debug mode, needs to enable checkbox first.
Then select the icon and position (line).
In this mode icons will positioned at desired line. Disabling debug mode returns to normal operation.

### Spinner object (reel)

When user press the 'Play' button, in the `Spinner` object starts timer, every 100 milliseconds image moves by `ICON_HEIGHT` value and the `timeRemaining` variable decreased by 100. When timeRemaining becomes 0, then the reel stops and the `getSymbolFromPosition` method returns the image positions using the callback (`onFinish` from parent component); 

In the debug mode when the `timeRemaining` variable equals 500 (number of icons multiplied by `tick` ), then spinner stops at desired icon at desired line.

### generate images

Images are generated by placed into canvas existing icons in the random order, and exports to image string by `canvas.toDataURL` method.




